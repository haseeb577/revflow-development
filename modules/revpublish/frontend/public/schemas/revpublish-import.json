{
  "name": "RevPublish Import",
  "version": "16.4.0",
  "layout": {
    "type": "container",
    "style": {
      "padding": "2rem",
      "maxWidth": "1600px",
      "margin": "0 auto"
    },
    "children": [
      {
        "type": "header",
        "level": 2,
        "text": "üì• Bulk Content Import",
        "style": {
          "marginBottom": "0.5rem",
          "color": "#fff",
          "fontSize": "2rem",
          "fontWeight": "700"
        }
      },
      {
        "type": "text",
        "content": "Import and publish content to your WordPress sites. Upload a CSV file with your content data and publish it to your registered WordPress site.",
        "style": {
          "color": "#94a3b8",
          "marginBottom": "2.5rem",
          "lineHeight": "1.6",
          "fontSize": "1rem"
        }
      },
      {
        "type": "container",
        "style": {
          "background": "linear-gradient(135deg, #1e293b 0%, #0f172a 100%)",
          "padding": "2rem",
          "borderRadius": "12px",
          "marginBottom": "2rem",
          "border": "1px solid rgba(34, 197, 94, 0.2)",
          "boxShadow": "0 4px 12px rgba(0,0,0,0.15)"
        },
        "children": [
          {
            "type": "header",
            "level": 3,
            "text": "üìã Download CSV Template",
            "style": {
              "marginBottom": "1rem",
              "color": "#22c55e",
              "fontSize": "1.25rem",
              "fontWeight": "600"
            }
          },
          {
            "type": "text",
            "dangerouslySetInnerHTML": true,
            "content": "<div style='display:flex;gap:1rem;flex-wrap:wrap;'><a href='https://automation.smarketsherpa.ai/revflow_os/revpublish/templates/Sample_12_Sites.csv' download='Sample_12_Sites.csv' style='display:inline-flex;align-items:center;gap:0.5rem;background:linear-gradient(135deg, #22c55e 0%, #16a34a 100%);color:#fff;padding:0.875rem 1.75rem;border-radius:8px;text-decoration:none;font-weight:600;box-shadow:0 4px 12px rgba(34, 197, 94, 0.3);transition:all 0.2s;'>‚¨áÔ∏è CSV Template (Complete Example)</a></div>"
          }
        ]
      },
      {
        "type": "container",
        "style": {
          "background": "linear-gradient(135deg, #1e293b 0%, #0f172a 100%)",
          "padding": "2rem",
          "borderRadius": "12px",
          "marginBottom": "2rem",
          "border": "1px solid rgba(99, 102, 241, 0.2)",
          "boxShadow": "0 4px 12px rgba(0,0,0,0.15)"
        },
        "children": [
          {
            "type": "header",
            "level": 3,
            "text": "üöÄ Import Configuration",
            "style": {
              "marginBottom": "1.5rem",
              "color": "#6366f1",
              "fontSize": "1.25rem",
              "fontWeight": "600"
            }
          },
          {
            "type": "form",
            "action": "/api/import",
            "method": "POST",
            "enctype": "multipart/form-data",
            "fields": [
              {
                "type": "select",
                "name": "target_site",
                "label": "üåê Select WordPress Site",
                "required": true,
                "dataSource": "/api/sites?per_page=100",
                "dataPath": "sites",
                "valueField": "site_url",
                "labelField": "site_name",
                "placeholder": "Choose a WordPress site to publish to...",
                "description": "Select the registered WordPress site where you want to publish all content from the CSV"
              },
              {
                "type": "select",
                "name": "target_page_id",
                "label": "üß© Target Existing Page (Optional)",
                "required": false,
                "dataSource": "/api/site-pages?site_url={target_site}&per_page=100",
                "dataPath": "pages",
                "valueField": "id",
                "labelField": "display_name",
                "dependsOn": "target_site",
                "dependsOnPlaceholder": "Select site first, then choose a page to update",
                "placeholder": "Leave empty to create new pages, or choose one to update",
                "description": "If selected, import updates this exact page (keeps existing page structure when bridge update succeeds)"
              },
              {
                "type": "checkbox",
                "name": "update_selected_page_only",
                "label": "üîí Update Selected Page Only (No New Page)",
                "description": "When enabled, import fails instead of creating any new page. Best for strict replace-only workflow.",
                "defaultValue": true
              },
              {
                "type": "file",
                "name": "csv_file",
                "label": "üìã Upload CSV File",
                "required": true,
                "accept": ".csv",
                "description": "Upload CSV with content data. For row-wise page updates, supported columns include existing_page_id, target_page_id, page_id, existing_page_url, target_page_url, page_url, existing_page_slug, target_page_slug."
              },
              {
                "type": "checkbox",
                "name": "enable_smart_corrections",
                "label": "‚ú® Enable Smart Corrections",
                "defaultValue": true,
                "description": "Automatically correct common data issues"
              },
              {
                "type": "checkbox",
                "name": "preview_mode",
                "label": "üëÅÔ∏è Preview Mode",
                "description": "Preview only - don't deploy to WordPress (uncheck to publish)",
                "defaultValue": false
              },
              {
                "type": "checkbox",
                "name": "preserve_formatting",
                "label": "üõ°Ô∏è Preserve Existing Page Formatting",
                "description": "For page updates, require bridge-based update so Elementor layout/styles remain intact",
                "defaultValue": true
              },
              {
                "type": "select",
                "name": "post_status",
                "label": "üìÑ Post Status",
                "defaultValue": "draft",
                "description": "Set the WordPress post status for imported content",
                "options": [
                  {
                    "value": "draft",
                    "label": "Draft"
                  },
                  {
                    "value": "publish",
                    "label": "Publish"
                  },
                  {
                    "value": "pending",
                    "label": "Pending Review"
                  }
                ]
              }
            ],
            "submitButton": {
              "text": "üöÄ Start Import",
              "style": {
                "background": "linear-gradient(135deg, #6366f1 0%, #4f46e5 100%)",
                "color": "white",
                "padding": "1rem 2.5rem",
                "fontSize": "1.1rem",
                "fontWeight": "600",
                "border": "none",
                "borderRadius": "8px",
                "cursor": "pointer",
                "boxShadow": "0 4px 12px rgba(99, 102, 241, 0.3)",
                "transition": "all 0.2s"
              }
            }
          },
          {
            "type": "contentTemplateBuilder",
            "title": "üß© Step 1: Generate Page Slot Template",
            "maxHeight": "320px",
            "style": {
              "marginTop": "1rem"
            },
            "tooltips": {
              "section": "Slot template is generated automatically when you select a site and target page. Copy or download to use in your doc, then put the doc URL in your CSV.",
              "copy": "Copy template to clipboard",
              "download": "Download template as text file"
            }
          }
        ]
      }
    ]
  }
}
